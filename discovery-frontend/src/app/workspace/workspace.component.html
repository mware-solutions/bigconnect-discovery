<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<!-- contents -->
<em class="ddp-bg-back"></em> <!-- Background -->
<div class="ddp-ui-space-contents page-workspace mx-5">
  <!-- top -->
  <div class="ddp-ui-top-info mx-5">
    <!-- title -->
    <!-- display none for now -->
<!--    <div class="ddp-ui-title d-none" >-->
<!--      <div class="ddp-ui-title-in" style="padding-right: 100px;">-->
<!--        <span class="ddp-data-title">{{workspaceName}} </span>-->
<!--        <span *ngIf="''!== workspaceDescription" class="ddp-data-detail">{{workspaceDescription}}</span>-->
<!--        &lt;!&ndash; button &ndash;&gt;-->
<!--        <div class="ddp-btn-control">-->
<!--          <em class="ddp-icon-control-fav" *ngIf="isShareType" [ngClass]="{'ddp-selected' : workspace.favorite }" (click)="setFavorite()"></em>-->
<!--          <span *ngIf="workspace && workspace.owner && loginUserId === workspace.owner.username" class="ddp-box-power ddp-owner">-->
<!--            {{'msg.space.ui.owner' | translate}}-->
<!--          </span>-->
<!--        </div>-->
<!--      </div>-->
<!--      <a draggable="false" href="javascript:" class="ddp-btn-line2" (click)="workspaceList()">-->
<!--        <em class="ddp-icon-spacelist"></em> {{'msg.space.btn.workspace.list' | translate}}-->
<!--      </a>-->
<!--    </div>-->
    <!-- //title -->
    <!-- summary -->
    <div *ngIf="workspace.id" class="ddp-wrap-info-summary ddp-clear row no-gutters">
      <div class="workbook col- border-right px-2">
        <i>
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10 0H5.66669C5.48261 0 5.33336 0.149251 5.33336 0.333333V2.66667H0.333335C0.149252 2.66667 0 2.81592 0 3V19.6667C0 19.8507 0.149252 20 0.333335 20H10C10.1841 20 10.3334 19.8507 10.3334 19.6667V0.333333C10.3334 0.149251 10.1841 0 10 0ZM9.66671 17.3333H6.00003V16.6667H9.66671V17.3333ZM0.66667 5H5.33336V15H0.66667V5ZM9.66671 3.66667H6.00003V2.66667H9.66671V3.66667ZM0.66667 15.6667H5.33336V16.6667H0.66667V15.6667ZM6.00003 16V4.33333H9.66671V16H6.00003ZM9.66671 0.666667V2H6.00003V0.666667H9.66671ZM5.33336 3.33333V4.33333H0.66667V3.33333H5.33336ZM0.66667 17.3333H5.33336V19.3333H0.66667V17.3333ZM6.00003 19.3333V18H9.66671V19.3333H6.00003Z" fill="#21A79C"/>
            <path d="M19.9893 18.2494L15.9893 2.91604C15.967 2.8301 15.9113 2.75669 15.8345 2.71194C15.7579 2.66734 15.6666 2.65513 15.5808 2.67808L10.5808 4.01141C10.4037 4.05862 10.2979 4.23993 10.3441 4.41734L14.3441 19.7507C14.3664 19.8366 14.4222 19.91 14.4991 19.9546C14.5757 19.999 14.667 20.0111 14.7526 19.988L19.7527 18.6546C19.9294 18.6074 20.0351 18.4265 19.9893 18.2494V18.2494ZM11.604 6.60598L15.96 5.44468L16.1167 6.04462L11.7611 7.2077L11.604 6.60598ZM16.285 6.69143L18.2183 14.1073L13.864 15.2691L11.9307 7.85272L16.285 6.69143ZM18.3881 14.7526L18.7294 16.0607L14.3734 17.222L14.0334 15.9144L18.3881 14.7526ZM15.4288 3.40839L15.7917 4.79999L11.4357 5.96096L11.0731 4.57001L15.4288 3.40839ZM14.9047 19.2583L14.5417 17.8667L18.8977 16.7051L19.2603 18.096L14.9047 19.2583Z" fill="#21A79C"/>
            <path d="M4.33339 6H1.66671C1.48263 6 1.33337 6.14925 1.33337 6.33333V9C1.33337 9.18408 1.48263 9.33333 1.66671 9.33333H4.33339C4.51747 9.33333 4.66672 9.18408 4.66672 9V6.33333C4.66672 6.14925 4.51747 6 4.33339 6ZM4.00005 8.66667H2.00004V6.66667H4.00005V8.66667Z" fill="#21A79C"/>
          </svg>
        </i>
        <span>{{'msg.space.ui.tag.workbook' | translate}} </span>
        <strong class="pl-2">{{countByBookType.workBook}}</strong>
      </div>
      <div class="notebook col- border-right px-2" *ngIf="isSetNotebookServer">
        <i><svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M16.25 0H2.08332C1.39414 0 0.83332 0.56082 0.83332 1.25V3.33332H0.41668C0.18668 3.33332 0 3.52 0 3.75C0 3.98 0.18668 4.16668 0.41668 4.16668H0.833359V7.5H0.41668C0.18668 7.5 0 7.68668 0 7.91668C0 8.14668 0.18668 8.33336 0.41668 8.33336H0.833359V11.6667H0.41668C0.18668 11.6667 0 11.8534 0 12.0834C0 12.3134 0.18668 12.5 0.41668 12.5H0.833359V15.8333H0.41668C0.18668 15.8333 0 16.02 0 16.25C0 16.48 0.18668 16.6667 0.41668 16.6667H0.833359V18.75C0.833359 19.4392 1.39418 20 2.08336 20H16.25C16.9392 20 17.5 19.4392 17.5 18.75V1.25C17.5 0.56082 16.9392 0 16.25 0ZM16.6667 18.75C16.6667 18.98 16.4792 19.1667 16.25 19.1667H2.08332C1.85414 19.1667 1.66664 18.98 1.66664 18.75V16.6667H2.57664C2.74918 17.1508 3.2075 17.5 3.75 17.5C4.43918 17.5 5 16.9392 5 16.25C5 15.5608 4.43918 15 3.75 15C3.2075 15 2.74918 15.3492 2.57668 15.8333H1.66668V12.5H2.57668C2.74918 12.9842 3.2075 13.3333 3.75 13.3333C4.43918 13.3333 5 12.7725 5 12.0833C5 11.3941 4.43918 10.8333 3.75 10.8333C3.2075 10.8333 2.74918 11.1825 2.57668 11.6666H1.66668V8.33332H2.57668C2.74918 8.8175 3.2075 9.16664 3.75 9.16664C4.43918 9.16664 5 8.60582 5 7.91664C5 7.22746 4.43918 6.66664 3.75 6.66664C3.2075 6.66664 2.74918 7.01582 2.57668 7.49996H1.66668V4.16664H2.57668C2.74918 4.65082 3.2075 5 3.75 5C4.43918 5 5 4.43918 5 3.75C5 3.06082 4.43918 2.5 3.75 2.5C3.2075 2.5 2.74918 2.84918 2.57668 3.33332H1.66668V1.25C1.66668 1.02 1.85418 0.83332 2.08336 0.83332H16.25C16.4792 0.83332 16.6667 1.02 16.6667 1.25V18.75ZM3.33332 16.25C3.33332 16.02 3.52082 15.8333 3.75 15.8333C3.97918 15.8333 4.16668 16.02 4.16668 16.25C4.16668 16.48 3.97918 16.6667 3.75 16.6667C3.52082 16.6667 3.33332 16.48 3.33332 16.25ZM3.33332 12.0833C3.33332 11.8533 3.52082 11.6666 3.75 11.6666C3.97918 11.6666 4.16668 11.8533 4.16668 12.0833C4.16668 12.3133 3.97918 12.5 3.75 12.5C3.52082 12.5 3.33332 12.3133 3.33332 12.0833ZM3.33332 7.91668C3.33332 7.68668 3.52082 7.5 3.75 7.5C3.97918 7.5 4.16668 7.68668 4.16668 7.91668C4.16668 8.14668 3.97918 8.33336 3.75 8.33336C3.52082 8.33332 3.33332 8.14668 3.33332 7.91668ZM3.33332 3.75C3.33332 3.52 3.52082 3.33332 3.75 3.33332C3.97918 3.33332 4.16668 3.52 4.16668 3.75C4.16668 3.98 3.97918 4.16668 3.75 4.16668C3.52082 4.16668 3.33332 3.98 3.33332 3.75Z" fill="#E46E2E"/>
        </svg>
        </i>
        <span>{{'msg.space.ui.tag.notebook' | translate}}: </span>
        <span>{{countByBookType.notebook}}</span>
      </div>
      <div class="workbench col- border-right px-2">
        <i><svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19 11.6479C19.0022 11.2677 18.7863 10.9208 18.4466 10.7585L16.8895 10.001L18.4457 9.24351C18.7825 9.07834 18.9965 8.73288 18.9965 8.35413C18.9965 7.97539 18.7825 7.62993 18.4457 7.46476L16.8895 6.70726L18.4457 5.94977C18.784 5.78524 18.9992 5.43898 18.9992 5.0591C18.9992 4.67923 18.784 4.33297 18.4457 4.16844L10.2043 0.163199C9.75909 -0.0543998 9.23978 -0.0543998 8.79453 0.163199L0.553652 4.17102C0.21523 4.33554 0 4.6818 0 5.06168C0 5.44155 0.21523 5.78781 0.553652 5.95234L2.1097 6.70726L0.553652 7.46476C0.21666 7.62993 0.00270228 7.97539 0.00270228 8.35413C0.00270228 8.73288 0.21666 9.07834 0.553652 9.24351L2.1097 10.001L0.553652 10.7585C0.21666 10.9237 0.00270228 11.2691 0.00270228 11.6479C0.00270228 12.0266 0.21666 12.3721 0.553652 12.5373L2.1097 13.2947L0.553652 14.0522C0.21666 14.2174 0.00270228 14.5629 0.00270228 14.9416C0.00270228 15.3204 0.21666 15.6658 0.553652 15.831L8.79612 19.8404C9.24184 20.0532 9.7583 20.0532 10.204 19.8404L18.4457 15.831C18.7825 15.6658 18.9965 15.3204 18.9965 14.9416C18.9965 14.5629 18.7825 14.2174 18.4457 14.0522L16.8895 13.2947L18.4457 12.5373C18.7855 12.375 19.0019 12.0282 19 11.6479ZM0.650935 5.06039C0.649345 4.9335 0.721671 4.81738 0.835486 4.76399L9.07637 0.757135C9.34374 0.62606 9.65545 0.62606 9.92282 0.757135L18.1634 4.76399C18.2758 4.81899 18.347 4.93414 18.347 5.06039C18.347 5.18664 18.2758 5.30179 18.1634 5.3568L9.92282 9.36365C9.65545 9.49456 9.34374 9.49456 9.07637 9.36365L0.835486 5.3568C0.721671 5.3034 0.649345 5.18744 0.650935 5.06039ZM0.650935 8.35413C0.649663 8.2274 0.721671 8.11145 0.835168 8.05773L2.86173 7.07218L8.79549 9.95694C9.24073 10.1747 9.76005 10.1747 10.2054 9.95694L16.1381 7.07282L18.1653 8.05773C18.2767 8.11305 18.3473 8.22772 18.3473 8.35333C18.3473 8.47894 18.2767 8.59361 18.1653 8.64893L9.92282 12.658C9.65482 12.7861 9.34437 12.7861 9.07637 12.658L0.833578 8.65054C0.7204 8.5965 0.648709 8.48071 0.650299 8.35413H0.650935ZM18.1653 14.6452C18.2788 14.6993 18.3511 14.8147 18.3511 14.9416C18.3511 15.0685 18.2788 15.184 18.1653 15.238L9.92282 19.2455C9.65482 19.3735 9.34437 19.3735 9.07637 19.2455L0.833578 15.238C0.721194 15.183 0.649822 15.0679 0.649822 14.9416C0.649822 14.8154 0.721194 14.7002 0.833578 14.6452L2.86046 13.6597L8.79517 16.546C9.24089 16.7588 9.75735 16.7588 10.2031 16.546L16.1378 13.6603L18.1653 14.6452ZM18.1653 11.9443L9.92282 15.9518C9.65482 16.0798 9.34437 16.0798 9.07637 15.9518L0.833578 11.9443C0.721194 11.8893 0.649822 11.7741 0.649822 11.6479C0.649822 11.5216 0.721194 11.4065 0.833578 11.3515L2.86046 10.3659L8.79517 13.2523C9.24089 13.4651 9.75735 13.4651 10.2031 13.2523L16.1378 10.3666L18.1653 11.3515C18.2777 11.4065 18.349 11.5216 18.349 11.6479C18.349 11.7741 18.2777 11.8893 18.1653 11.9443Z" fill="#5890FF"/>
        </svg>
        </i>
        <span>{{'msg.space.ui.tag.workbench' | translate}} </span>
        <strong class="pl-2">{{countByBookType.workBench}}</strong>
      </div>
      <div class="database col- border-right px-2" (click)="datasourceView()" [ngClass]="{'ddp-selected' : isInfoType =='datasource'}">
        <i><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.5999 14.164H0.400072C0.17893 14.164 0 14.3431 0 14.5641V19.5999C0 19.8209 0.17893 20 0.400072 20H19.5999C19.8211 20 20 19.8209 20 19.5999V14.5641C20 14.3431 19.8211 14.164 19.5999 14.164ZM19.1999 19.1998H0.799973V14.964H19.1999V19.1998Z" fill="black"/>
          <path d="M2.41683 18.4819H4.41684C4.63781 18.4819 4.81674 18.3028 4.81674 18.082V16.082C4.81674 15.861 4.63781 15.6819 4.41684 15.6819H2.41683C2.19568 15.6819 2.01675 15.861 2.01675 16.082V18.082C2.01675 18.3028 2.19568 18.4819 2.41683 18.4819ZM2.81673 16.4819H4.01677V17.682H2.81673V16.4819Z" fill="black"/>
          <path d="M6.88326 17.482H17.5832C17.8043 17.482 17.9831 17.3029 17.9831 17.0819C17.9831 16.8611 17.8043 16.682 17.5832 16.682H6.88326C6.66211 16.682 6.48318 16.8611 6.48318 17.0819C6.48318 17.3029 6.66211 17.482 6.88326 17.482Z" fill="black"/>
          <path d="M19.5999 7.08203H0.400072C0.17893 7.08203 0 7.26113 0 7.4821V12.5179C0 12.7389 0.17893 12.918 0.400072 12.918H19.5999C19.8211 12.918 20 12.7389 20 12.5179V7.4821C20 7.26113 19.8211 7.08203 19.5999 7.08203ZM19.1999 12.1179H0.799973V7.882H19.1999V12.1179Z" fill="black"/>
          <path d="M2.41683 11.3999H4.41684C4.63781 11.3999 4.81674 11.2208 4.81674 11V8.99999C4.81674 8.77902 4.63781 8.59991 4.41684 8.59991H2.41683C2.19568 8.59991 2.01675 8.77902 2.01675 8.99999V11C2.01675 11.2208 2.19568 11.3999 2.41683 11.3999ZM2.81673 9.39989H4.01677V10.5999H2.81673V9.39989Z" fill="black"/>
          <path d="M6.88326 10.3999H17.5832C17.8043 10.3999 17.9831 10.2208 17.9831 9.99988C17.9831 9.77908 17.8043 9.59998 17.5832 9.59998H6.88326C6.66211 9.59998 6.48318 9.77908 6.48318 9.99988C6.48318 10.2208 6.66211 10.3999 6.88326 10.3999Z" fill="black"/>
          <path d="M19.5999 0H0.400072C0.17893 0 0 0.179101 0 0.400072V5.43592C0 5.65689 0.17893 5.83599 0.400072 5.83599H19.5999C19.8211 5.83599 20 5.65689 20 5.43592V0.400072C20 0.179101 19.8211 0 19.5999 0ZM19.1999 5.03584H0.799973V0.799973H19.1999V5.03584Z" fill="black"/>
          <path d="M2.41683 4.31787H4.41684C4.63781 4.31787 4.81674 4.13877 4.81674 3.91797V1.91796C4.81674 1.69698 4.63781 1.51788 4.41684 1.51788H2.41683C2.19568 1.51788 2.01675 1.69698 2.01675 1.91796V3.91797C2.01675 4.13877 2.19568 4.31787 2.41683 4.31787ZM2.81673 2.31786H4.01677V3.5179H2.81673V2.31786Z" fill="black"/>
          <path d="M6.88326 3.31798H17.5832C17.8043 3.31798 17.9831 3.13888 17.9831 2.91791C17.9831 2.69711 17.8043 2.51801 17.5832 2.51801H6.88326C6.66211 2.51801 6.48318 2.69711 6.48318 2.91791C6.48318 3.13888 6.66211 3.31798 6.88326 3.31798Z" fill="black"/>
        </svg>
        </i>
        <span>{{'msg.space.ui.ds' | translate}}</span>
        <strong class="pl-2">{{countOfDataSources}}</strong>
      </div>


      <div *ngIf="isShareType && permissionChecker && !permissionChecker.isWorkspaceGuest()" class="col- border-right px-2">
        <div class="ddp-ui-number"

             [ngClass]="{'ddp-selected' : isInfoType=='member'}" (click)="sharedMemberView()">
          <em class="ddp-icon-result-user"></em>
          <span>
        <span class="ddp-data-num">{{countByMemberType.user}}</span> {{'msg.space.ui.member' | translate}}
            <span class="ddp-data-num">{{countByMemberType.group}}</span> {{'msg.space.ui.group' | translate}}
      </span>
        </div>
      </div>

      <div class="new col- d-flex border-right px-2" *ngIf="!folder.hierarchies && permissionChecker && permissionChecker.isManageWsFolder()" (click)="createFolder()">
        <i nz-icon type="folder-add" theme="outline"></i>
        <span class="pl-2">New</span>
      </div>

      <div class="col- border-right px-2 d-none" >
        <div (click)="topFolder()" class="ddp-data-nav">
          <em class="ddp-icon-space" ></em>
          {{workspaceName}}
        </div>
      </div>

      <div *ngIf="last && permissionChecker && permissionChecker.isManageWsFolder()" class="col- border-right px-2 ">
        <div *ngFor="let hierarchies of folder.hierarchies; let last = last;" class="ddp-data-nav" >
          <span class="ddp-data-namefolder" (click)="detailFolder(hierarchies.id)">{{hierarchies.name}}</span>
          <a  (click)="createFolder()"
              draggable="false" href="javascript:" class="ddp-btn-folderplus" ></a>
        </div>
      </div>


      <div class="col- more px-2">
        <!-- more -->
        <div *ngIf="permissionChecker && permissionChecker.isManageWorkspace()"
             [class.ddp-selected]="isShowMenuLayer" class="ddp-ui-more ddp-hover-tooltip"
             (click)="isShowMenuLayer = !isShowMenuLayer" (clickOutside)="isShowMenuLayer=false"
             style="z-index:51;">
          <a draggable="false" href="javascript:" class="ddp-icon-more">
            <i nz-icon type="ellipsis" theme="outline"></i>
          </a>
          <!-- tooltip -->
          <div class="ddp-ui-tooltip-info ddp-down">
            <em class="ddp-icon-view-top"></em>
            {{'msg.comm.ui.more' | translate}}
          </div>
          <!-- //tooltip -->
          <!-- popup -->
          <div class="ddp-wrap-popup2 ddp-types">
            <ul class="ddp-list-popup">
              <li *ngIf="permissionChecker && permissionChecker.isManageWorkspace()">
                <a draggable="false" href="javascript:" (click)="editWorkspace()">
                  <em class="ddp-icon-drop-editmodify"></em> {{'msg.space.edit.name' | translate}}
                </a>
              </li>
              <li *ngIf="isShareType && permissionChecker && permissionChecker.isManageWorkspace()">
                <a draggable="false" href="javascript:" (click)="sharedMemberManage()">
                  <em class="ddp-icon-drop-member"></em> {{'msg.space.set.member' | translate}}
                </a>
              </li>
              <li *ngIf="permissionChecker && permissionChecker.isManageNotebook()" >
                <a draggable="false" href="javascript:" (click)="setNotebookServer()">
                  <em class="ddp-icon-drop-set"></em> {{'msg.space.set.notebook.server' | translate}}
                </a>
              </li>
              <li *ngIf="isShareType && permissionChecker && permissionChecker.isManageWorkspace()">
                <a draggable="false" href="javascript:" (click)="openPopupSetPermissionSchema()">
                  <em class="ddp-icon-drop-schema"></em> {{'msg.space.ui.set-permission-schema' | translate}}
                </a>
              </li>
              <li *ngIf="isShareType && loginUserId === workspace.owner.username">
                <a draggable="false" href="javascript:" (click)="openPopupChangeOwner()">
                  <em class="ddp-icon-drop-change"></em> {{'msg.space.ui.change-owner' | translate}}
                </a>
              </li>
              <li *ngIf="isShareType && permissionChecker && permissionChecker.isManageWorkspace()">
                <a draggable="false" href="javascript:" (click)="deleteWorkspace()">
                  <em class="ddp-icon-drop-editdel3"></em> {{'msg.space.del.workspace' | translate}}
                </a>
              </li>
            </ul>

          </div>
          <!-- //popup -->
        </div>
        <!-- //more -->
      </div>

      <div class="ddp-ui-option-right col- mx-auto px-2">
        <div class="ddp-form-search">
          <em class="ddp-icon-search"></em>
          <input type="text" placeholder="{{ 'msg.space.ui.ph-search-ws-contents' | translate }}"
                 (keypress)="searchData($event)" [ngModel]="srchText"  >
          <em class="ddp-btn-search-close" *ngIf="srchText && srchText !== ''" (click)="clearSrchText()" ></em>
        </div>
      </div>

      <div class="col- border-right px-2 sort">
        <component-drop-box
          [array]="contentFilter"
          [viewKey]="'value'"
          [defaultIndex]="contentFilterIndex"
          (onSelected)="selectedFilter($event)"
        ></component-drop-box>
      </div>

      <div class="col- px-2 border-right sort">
        <component-sort-drop-box
          [array]="contentSort"
          [defaultIndex]="contentSortIndex"
          [viewKey]="'value'"
          (onSelected)="selectedSort($event)"
        ></component-sort-drop-box>
      </div>

      <div class="col- px-2 border-right sort">
        <div [ngClass]="{'ddp-selected' : viewType == 'CARD'}">
          <a draggable="false" href="javascript:" (click)="setViewType('CARD')"><i nz-icon type="appstore" theme="outline"></i></a>
          <div class="ddp-ui-tooltip-info">
            <em class="ddp-icon-view-top"></em>
            {{'msg.board.ui.card.view' | translate}}
          </div>
        </div>
      </div>

      <div class="col- pl-2 sort">
        <div [ngClass]="{'ddp-selected' : viewType == 'LIST'}" draggable="false" href="javascript:" (click)="setViewType('LIST')">
          <a ><i nz-icon type="bars" theme="outline"></i></a>
          <div class="ddp-ui-tooltip-info">
            <em class="ddp-icon-view-top"></em>
            {{'msg.comm.ui.list.list.view' | translate}}
          </div>
        </div>
      </div>

      <!--  Off for now     <div class="col-">-->
      <!--        <span class="ddp-data-create">-->
      <!--            {{'msg.common.ui.created' | translate : {createdTime :workspace.createdTime | mdate:'YYYY-MM-DD', fullName : owner.fullName } }}-->
      <!--        </span>-->
      <!--      </div>-->
    </div>
    <!-- //summary -->


  </div>
  <!-- //top -->



















  <div *ngIf="workspace.id" class="ddp-ui-space-option ddp-clear">

    <!-- nodata -->
    <div *ngIf="!getList() || 0 === getList().length"  class=" row no-gutters ddp-ui-datanone">
      <div class="ddp-view-datanone col-6 mx-auto" >
        <div class="ddp-bg-img"></div>
        <span class="ddp-txt-datanon">{{'msg.space.ui.no.data' | translate}}</span>
      </div>
    </div>
    <!-- //nodata -->

  </div>

  <!-- block 타입 -->
  <div class="ddp-wrap-block-type" *ngIf="viewType == 'CARD'">
    <!-- folder -->
    <div class="ddp-wrap-folder ddp-clear" >
      <!-- 상위 폴더로 이동 -->
      <div class="ddp-box-folder ddp-box-back" *ngIf="!isRoot" (click)="previouseFolder()">
        <em class="ddp-icon-folder-back"></em>
        <span class="ddp-data-name">{{'msg.comm.ui.list.parent.folder' | translate}}</span>
      </div>
      <!-- //상위 폴더로 이동 -->
      <!-- box folder -->
      <ng-container *ngIf="selectedContentFilter === contentFilter[0]">
        <div class="ddp-box-folder"
             *ngFor="let folderData of (getList()
           | baseFilter:['type','folder']
           | baseFilter:['name', srchText]
           | baseSort : [selectedContentSort.key, selectedContentSort.type])"
             (click)="detailFolder(folderData.id); $event.stopPropagation();"
             [ngClass]="{'ddp-box-edit' : folderData.edit, 'ddp-selected' : folderData.checked}">
          <!-- check 되었을때. ddp-selected 추가 -->
          <!-- checkbox -->
          <div class="ddp-ui-checkbox" (click)="checkEvent($event, folderData); $event.stopPropagation();">
            <input type="checkbox" [checked] = "folderData.checked">
            <i class="ddp-icon-checkbox"></i>
          </div>
          <!-- //checkbox -->
          <!-- new 일떼 ddp-data-new 추가 -->
          <span class="ddp-data-name ddp-data-new">
            {{folderData.name}}
            <em class="ddp-icon-new" *ngIf="folderData.createdTime | moment: 'isNew'">{{'msg.common.ui.new' | translate}}</em>
          </span>
          <!-- 편집 -->
          <div class="ddp-data-input" (click)="$event.stopPropagation();" *ngIf="folderData.edit">
            <input [(ngModel)]="folderData.name" [focus]="folderData.edit"
                   (keypress)="updateFolderNamePressEnter($event, folderData)"
                   (keyup.esc)="cancelEditFolderName(folderData)"
                   (clickOutside)="cancelEditFolderName(folderData)"
                   type="text" placeholder="new Folder" maxlength="50" />
            <em class="ddp-icon-control-check" (click)="updateFolderName(folderData);$event.stopPropagation();"></em>
          </div>
          <!-- //편집 -->
          <!-- button -->
          <div class="ddp-btn-control" (click)="$event.stopPropagation();"
               *ngIf="permissionChecker && permissionChecker.isManageWsFolder()">
            <em class="ddp-icon-control-edit2 ddp-hover-tooltip" (click)="folderData.edit=true;folderData['orgName']=folderData.name">
              <!-- 툴팁 -->
              <div class="ddp-ui-tooltip-info ddp-down">
                <em class="ddp-icon-view-top"></em> {{'msg.comm.ui.edit' | translate}}
              </div>
              <!-- //툴팁 -->
            </em>
            <em *ngIf="checkEditAuth(folderData)" (click)="deleteModalOpen(folderData)"
                class="ddp-icon-control-cut ddp-hover-tooltip" >
              <!-- 툴팁 -->
              <div class="ddp-ui-tooltip-info ddp-down">
                <em class="ddp-icon-view-top"></em> {{'msg.comm.ui.del' | translate}}
              </div>
              <!-- //툴팁 -->
            </em>
          </div>
          <!-- //button -->
        </div>
      </ng-container>
      <!-- //box folder -->
    </div>
    <!-- //folder -->
    <!-- 리스트 -->
    <!-- item box -->
    <div class="row no-gutters">
      <div class="col-2 border mr-3 p-3 item d-flex"  *ngFor="let book of (getList()
           | baseFilter:['type', 'folder', true]
           | baseFilter:['type', selectedContentFilter.key]
           | baseFilter:['name', srchText]
           | baseSort : [selectedContentSort.key, selectedContentSort.type])"
           (click)="detailValidPage(book); $event.stopPropagation();"
           [ngClass]="{'workbenchItem' : book.type === 'workbench', 'workbookItem' : book.type === 'workbook' , 'selectedBook' : book.checked , 'disabled' : !book.contents.connValid }">

        <div class="new" *ngIf="book.createdTime | moment: 'isNew'">{{'msg.common.ui.new' | translate}}</div>
        <!-- time -->
        <h2 [ngClass]="{'' : book.type != 'notebook'}" [title]="book.name" class="ml-auto px-0 col-11 mt-2">{{book.name}}</h2>

        <!-- checkbox -->
        <div class="row no-gutters d-flex align-items-center mt-2">
          <div class="ddp-ui-checkbox col-1" (click)="checkEvent($event, book); $event.stopPropagation();">
            <input type="checkbox" [checked] = "book.checked"/>
            <i *ngIf="!book.checked" nz-icon type="border" theme="outline"></i>
            <i *ngIf="book.checked" nz-icon type="check-square" theme="outline" class="checkBox"></i>
          </div>
          <div class="col-11"><div class="line mt-2">&nbsp;</div></div>
        </div>

        <!-- date -->
        <div class="d-flex dateCreated pt-4">
          <span>{{'msg.comm.ui.list.last' | translate}} </span>
          <span class="ml-auto">{{book.modifiedTime | amLocale:getLanguage() | amTimeAgo}}</span>
        </div>

        <!-- description -->
        <p class="py-3">{{book.description}}</p>

        <!-- box footer-->
        <div class="row no-gutters border-top pt-3 mt-auto">
          <!-- box footer workbench -->
          <div class="ddp-box-bottom" *ngIf="book.type === 'workbench'">
            <div class="ddp-data-connection">
              <div class="ddp-txt-connection">
                <!-- info -->
                <div class="ddp-type-info" *ngIf="!book.contents.connValid">
                  <em class="ddp-icon-error2"></em>
                  <!-- tooltip -->
                  <div class="ddp-ui-tooltip-info ddp-down">
                    <em class="ddp-icon-view-top"></em>{{'msg.space.ui.workbench.unauthorized' | translate}}
                  </div>
                  <!-- //tooltip -->
                </div>
                <!-- //info -->
                <div class="ddp-txt-in" title="{{ getConnName(book) }}">
                <span class="ddp-img">
                    <img src="{{getWorkbenchConnTypeIcon(book)}}">
                </span>
                  <span class="ddp-view-txt">{{ getConnName(book) }}</span>
                </div>
              </div>
            </div>
          </div>
          <!-- //workbench -->
          <!-- box footer notebook -->
          <div class="ddp-box-bottom" *ngIf="book.type === 'notebook'">
            <div class="ddp-wrap-data">
            <span class="ddp-data-name" *ngIf="book.contents.connectorType === 'jupyter' || book.contents.connectorType === 'zeppelin'">
                <em [ngClass]="{'ddp-icon-lang-jupyter' : book.contents.connectorType === 'jupyter', 'ddp-icon-lang-zeppelin' : book.contents.connectorType === 'zeppelin'}"></em>
                <div class="ddp-txt-name">
                  <!-- error -->
                  <div class="ddp-type-info" *ngIf="!book.contents.connValid">
                    <em class="ddp-icon-error2"></em>
                    <!-- tooltip -->
                    <div class="ddp-ui-tooltip-info ddp-down">
                      <em class="ddp-icon-view-top"></em>{{'msg.space.ui.notebook.unauthorized' | translate}}
                    </div>
                    <!-- //tooltip -->
                  </div>
                  <!-- //error -->
                  <span class="ddp-txt-name-in" title="{{book.connector}}">{{book.connector}}</span>
                </div>
            </span>
              <span class="ddp-data-name ddp-data-lang-r" title="{{'msg.nbook.ui.r' | translate}}" *ngIf="book.kernelType === 'R'">
                <div class="ddp-txt-name">
                    <span class="ddp-txt-name-in">{{'msg.nbook.ui.r' | translate}}</span>
                </div>
            </span>
              <span class="ddp-data-name ddp-data-lang-python" title="{{'msg.nbook.ui.python' | translate}}" *ngIf="book.kernelType === 'PYTHON'">
                <div class="ddp-txt-name">
                    <span class="ddp-txt-name-in">{{'msg.nbook.ui.python' | translate}}</span>
                </div>
            </span>
              <span class="ddp-data-name ddp-data-lang-python" title="{{'msg.nbook.ui.spark' | translate}}" *ngIf="book.kernelType === 'SPARK'">
                <div class="ddp-txt-name">
                    <span class="ddp-txt-name-in">{{'msg.nbook.ui.spark' | translate}}</span>
                </div>
            </span>
            </div>
          </div>
          <!-- //notebook -->
          <!-- box footer workbook -->
          <div class="ddp-box-bottom col- border-right" *ngIf="book.type === 'workbook'" >
            <div class="row no-gutters">
              <div class="col- border-right pr-2 align-middle">
                <i nz-icon type="database" theme="outline" class="pr-2"></i>
                <strong class="align-middle">{{book.contents.dataSource - book.contents.inactiveDataSource}}</strong>
              </div>
              <!-- info -->
              <div class="col- border-right align-middle" *ngIf="book.contents.inactiveDataSource > 0">
                <i nz-icon type="exclamation-circle" theme="outline"></i>
                <!-- tooltip -->
                <div class="ddp-ui-tooltip-info ddp-down">
                  <em class="ddp-icon-view-top"></em>
                  {{'msg.space.ui.workbook.unauthorized' | translate : {inactive : book.contents.inactiveDataSource } }}
                </div>
                <!-- //tooltip -->
              </div>
              <!-- //info -->
              <div class="col- border-righ px-2 align-middle">
                <i nz-icon type="dashboard" theme="outline" class="pr-2"></i>
                <strong class="align-middle">{{book.contents.dashboard}}</strong>
              </div>
            </div>
          </div>
          <!-- type -->
          <div class="col-">
            <i *ngIf="book.type === 'workbook'" class="px-2">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 0H5.66669C5.48261 0 5.33336 0.149251 5.33336 0.333333V2.66667H0.333335C0.149252 2.66667 0 2.81592 0 3V19.6667C0 19.8507 0.149252 20 0.333335 20H10C10.1841 20 10.3334 19.8507 10.3334 19.6667V0.333333C10.3334 0.149251 10.1841 0 10 0ZM9.66671 17.3333H6.00003V16.6667H9.66671V17.3333ZM0.66667 5H5.33336V15H0.66667V5ZM9.66671 3.66667H6.00003V2.66667H9.66671V3.66667ZM0.66667 15.6667H5.33336V16.6667H0.66667V15.6667ZM6.00003 16V4.33333H9.66671V16H6.00003ZM9.66671 0.666667V2H6.00003V0.666667H9.66671ZM5.33336 3.33333V4.33333H0.66667V3.33333H5.33336ZM0.66667 17.3333H5.33336V19.3333H0.66667V17.3333ZM6.00003 19.3333V18H9.66671V19.3333H6.00003Z" fill="#21A79C"/>
                <path d="M19.9893 18.2494L15.9893 2.91604C15.967 2.8301 15.9113 2.75669 15.8345 2.71194C15.7579 2.66734 15.6666 2.65513 15.5808 2.67808L10.5808 4.01141C10.4037 4.05862 10.2979 4.23993 10.3441 4.41734L14.3441 19.7507C14.3664 19.8366 14.4222 19.91 14.4991 19.9546C14.5757 19.999 14.667 20.0111 14.7526 19.988L19.7527 18.6546C19.9294 18.6074 20.0351 18.4265 19.9893 18.2494V18.2494ZM11.604 6.60598L15.96 5.44468L16.1167 6.04462L11.7611 7.2077L11.604 6.60598ZM16.285 6.69143L18.2183 14.1073L13.864 15.2691L11.9307 7.85272L16.285 6.69143ZM18.3881 14.7526L18.7294 16.0607L14.3734 17.222L14.0334 15.9144L18.3881 14.7526ZM15.4288 3.40839L15.7917 4.79999L11.4357 5.96096L11.0731 4.57001L15.4288 3.40839ZM14.9047 19.2583L14.5417 17.8667L18.8977 16.7051L19.2603 18.096L14.9047 19.2583Z" fill="#21A79C"/>
                <path d="M4.33339 6H1.66671C1.48263 6 1.33337 6.14925 1.33337 6.33333V9C1.33337 9.18408 1.48263 9.33333 1.66671 9.33333H4.33339C4.51747 9.33333 4.66672 9.18408 4.66672 9V6.33333C4.66672 6.14925 4.51747 6 4.33339 6ZM4.00005 8.66667H2.00004V6.66667H4.00005V8.66667Z" fill="#21A79C"/>
              </svg>
            </i>
           <span class="green">{{book.type}}</span>
          </div>
          <!-- delete -->
          <div class="col- border-left ml-auto border-left pl-2">
            <i *ngIf="checkEditAuth(book)" (click)="deleteModalOpen(book); $event.stopPropagation();" nz-icon type="delete" theme="outline"></i>
          </div>
        </div>
      </div>
    </div>
    <!-- end item box -->
  </div>
  <!-- //block 타입 -->
  <!-- list 타입 -->
  <div class="ddp-wrap-list-type" *ngIf="viewType == 'LIST'">
    <ul class="ddp-list-workspace">
      <!-- 최상단 폴더가 아닐 시 -->
      <li class="ddp-list-back" *ngIf="!isRoot">
        <a (click)="previouseFolder()" href="javascript:" draggable="false">
          <em class="ddp-icon-folder-back"></em>
          <div class="ddp-wrap-name">
            <span class="ddp-data-name">{{'msg.comm.ui.list.parent.folder' | translate}}</span>
          </div>
        </a>
      </li>
      <!-- 폴더만 보여줌 -->
      <ng-container *ngIf="selectedContentFilter === contentFilter[0]">
        <li *ngFor="let folderData of (getList()
        | baseFilter:['type', 'folder']
        | baseFilter:['name', srchText]
        | baseSort : [selectedContentSort.key, selectedContentSort.type]); let i=index"
            (click)="detailFolder(folderData.id); $event.stopPropagation();"
            [ngClass]="{'ddp-box-edit' : folderData.edit, 'ddp-selected' : folderData.checked}">
          <a href="javascript:" draggable="false">
            <!-- checkbox -->
            <div class="ddp-ui-checkbox" (click)="checkEvent($event, folderData); $event.stopPropagation();">
              <input type="checkbox" [checked] = "folderData.checked"/>
              <i class="ddp-icon-checkbox"></i>
            </div>
            <!-- //checkbox -->
            <!-- Type -->
            <em class="ddp-icon-folder"></em>
            <!-- // Type -->
            <!-- Name Label -->
            <div class="ddp-wrap-name">
            <span class="ddp-data-name" [class.ddp-data-new]="folderData.createdTime | moment: 'isNew'">
              <span class="ddp-data-in"> {{folderData.name}} </span>
              <em class="ddp-icon-new" *ngIf="folderData.createdTime | moment: 'isNew'">{{'msg.common.ui.new' | translate}}</em>
            </span>
            </div>
            <!-- // Name Label -->
            <!-- 편집 -->
            <div class="ddp-data-input" (click)="$event.stopPropagation();" *ngIf="folderData.edit">
              <input [(ngModel)]="folderData.name" [focus]="folderData.edit"
                     (keypress)="updateFolderNamePressEnter($event, folderData)"
                     (keyup.esc)="cancelEditFolderName(folderData)"
                     (clickOutside)="cancelEditFolderName(folderData)"
                     type="text" placeholder="new Folder" maxlength="50" />
              <em class="ddp-icon-control-check" (click)="updateFolderName(folderData);$event.stopPropagation();"></em>
            </div>
            <!-- //편집 -->
            <!-- button -->
            <div class="ddp-btn-control" (click)="$event.stopPropagation();"
                 *ngIf="permissionChecker && permissionChecker.isManageWsFolder()">
              <em class="ddp-icon-control-edit2 ddp-hover-tooltip" (click)="folderData.edit=true;folderData['orgName']=folderData.name;">
                <!-- 툴팁 -->
                <div class="ddp-ui-tooltip-info ddp-down">
                  <em class="ddp-icon-view-top"></em> {{'msg.comm.ui.edit' | translate}}
                </div>
                <!-- //툴팁 -->
              </em>
              <em *ngIf="checkEditAuth(folderData)" (click)="deleteModalOpen(folderData)"
                  class="ddp-icon-control-cut ddp-hover-tooltip" >
                <!-- 툴팁 -->
                <div class="ddp-ui-tooltip-info ddp-down">
                  <em class="ddp-icon-view-top"></em> {{'msg.comm.ui.del' | translate}}
                </div>
                <!-- //툴팁 -->
              </em>
            </div>
            <!-- //button -->
          </a>
        </li >
      </ng-container>
      <!-- //폴더만 보여줌 -->
      <!-- 폴더 타입을 제외한 나머지 컨텐츠 -->
      <li *ngFor="let book of (getList()
        | baseFilter:['type', 'folder', true]
        | baseFilter:['type', selectedContentFilter.key]
        | baseFilter:['name', srchText]
        | baseSort : [selectedContentSort.key, selectedContentSort.type]); let i=index" (click)="detailValidPage(book); $event.stopPropagation();"
          [ngClass]="{'ddp-selected' : book.checked , 'ddp-disabled' : !book.contents.connValid }">
        <a href="javascript:" draggable="false" class="row no-gutters align-self-center">
          <!-- checkbox -->
          <div class="ddp-ui-checkbox col-" (click)="checkEvent($event, book);">
            <input type="checkbox" [checked] = "book.checked"/>
            <i class="ddp-icon-checkbox"></i>
          </div>
          <!-- //checkbox -->
          <div class="ddp-box-tag col- pr-2 ddp-{{book.type}}">
            <svg _ngcontent-c4="" fill="none" height="13" viewBox="0 0 20 20" width="13" xmlns="http://www.w3.org/2000/svg">
              <path _ngcontent-c4="" d="M10 0H5.66669C5.48261 0 5.33336 0.149251 5.33336 0.333333V2.66667H0.333335C0.149252 2.66667 0 2.81592 0 3V19.6667C0 19.8507 0.149252 20 0.333335 20H10C10.1841 20 10.3334 19.8507 10.3334 19.6667V0.333333C10.3334 0.149251 10.1841 0 10 0ZM9.66671 17.3333H6.00003V16.6667H9.66671V17.3333ZM0.66667 5H5.33336V15H0.66667V5ZM9.66671 3.66667H6.00003V2.66667H9.66671V3.66667ZM0.66667 15.6667H5.33336V16.6667H0.66667V15.6667ZM6.00003 16V4.33333H9.66671V16H6.00003ZM9.66671 0.666667V2H6.00003V0.666667H9.66671ZM5.33336 3.33333V4.33333H0.66667V3.33333H5.33336ZM0.66667 17.3333H5.33336V19.3333H0.66667V17.3333ZM6.00003 19.3333V18H9.66671V19.3333H6.00003Z" fill="#21A79C"></path>
              <path _ngcontent-c4="" d="M19.9893 18.2494L15.9893 2.91604C15.967 2.8301 15.9113 2.75669 15.8345 2.71194C15.7579 2.66734 15.6666 2.65513 15.5808 2.67808L10.5808 4.01141C10.4037 4.05862 10.2979 4.23993 10.3441 4.41734L14.3441 19.7507C14.3664 19.8366 14.4222 19.91 14.4991 19.9546C14.5757 19.999 14.667 20.0111 14.7526 19.988L19.7527 18.6546C19.9294 18.6074 20.0351 18.4265 19.9893 18.2494V18.2494ZM11.604 6.60598L15.96 5.44468L16.1167 6.04462L11.7611 7.2077L11.604 6.60598ZM16.285 6.69143L18.2183 14.1073L13.864 15.2691L11.9307 7.85272L16.285 6.69143ZM18.3881 14.7526L18.7294 16.0607L14.3734 17.222L14.0334 15.9144L18.3881 14.7526ZM15.4288 3.40839L15.7917 4.79999L11.4357 5.96096L11.0731 4.57001L15.4288 3.40839ZM14.9047 19.2583L14.5417 17.8667L18.8977 16.7051L19.2603 18.096L14.9047 19.2583Z" fill="#21A79C"></path>
              <path _ngcontent-c4="" d="M4.33339 6H1.66671C1.48263 6 1.33337 6.14925 1.33337 6.33333V9C1.33337 9.18408 1.48263 9.33333 1.66671 9.33333H4.33339C4.51747 9.33333 4.66672 9.18408 4.66672 9V6.33333C4.66672 6.14925 4.51747 6 4.33339 6ZM4.00005 8.66667H2.00004V6.66667H4.00005V8.66667Z" fill="#21A79C"></path></svg>
            {{book.type}}
          </div>
          <!-- Item Information -->
          <div class="ddp-ui-data-list col-">
            <!-- workbench -->
            <div class="ddp-data-info" *ngIf="book.type === 'workbench'">
              <span class="ddp-data-connection" title="{{ getConnName(book) }}">
                  <img src="{{getWorkbenchConnTypeIcon(book)}}">
                  <span class="ddp-txt-connection">{{ getConnName(book) }}</span>
                <!-- error -->
                  <div class="ddp-type-info" *ngIf="!book.contents.connValid">
                      <em class="ddp-icon-error2"></em>
                    <!-- tooltip -->
                      <div class="ddp-ui-tooltip-info ddp-down">
                          <em class="ddp-icon-view-top"></em>{{'msg.space.ui.notebook.unauthorized' | translate}}
                      </div>
                    <!-- //tooltip -->
                  </div>
                <!-- //error -->
              </span>
            </div>

            <!-- notebook -->
            <div class="ddp-data-info col-" *ngIf="book.type === 'notebook'">
              <span class="ddp-data-name" title="{{book.connector}}"><em [ngClass]="{'ddp-icon-lang-jupyter' : book.contents.connectorType === 'jupyter', 'ddp-icon-lang-zeppelin' : book.contents.connectorType === 'zeppelin'}"></em>{{book.connector}}
                <!-- error -->
                <div class="ddp-type-info" *ngIf="!book.contents.connValid">
                    <em class="ddp-icon-error2"></em>
                  <!-- tooltip -->
                    <div class="ddp-ui-tooltip-info ddp-down">
                        <em class="ddp-icon-view-top"></em>{{'msg.space.ui.notebook.unauthorized' | translate}}
                    </div>
                  <!-- //tooltip -->
                </div>
                <!-- //error -->
              </span>
              <span class="ddp-data-name ddp-data-lang-r" title="{{'msg.nbook.ui.r' | translate}}" *ngIf="book.kernelType === 'R'"> {{'msg.nbook.ui.r' | translate}}</span>
              <span class="ddp-data-name ddp-data-lang-python" title="{{'msg.nbook.ui.python' | translate}}" *ngIf="book.kernelType === 'PYTHON'"> {{'msg.nbook.ui.python' | translate}}</span>
              <span class="ddp-data-name ddp-data-lang-python" title="{{'msg.nbook.ui.spark' | translate}}" *ngIf="book.kernelType === 'SPARK'"> {{'msg.nbook.ui.spark' | translate}}</span>
            </div>

          </div>
          <!-- // Item Information -->

          <!-- Name -->
          <div class="ddp-wrap-name col-">
            <span class="ddp-data-name" [class.ddp-data-new]="book.createdTime | moment: 'isNew'" [title]="book.name">
              {{book.name}}
              <em class="ddp-icon-new" *ngIf="book.createdTime | moment: 'isNew'">{{'msg.common.ui.new' | translate}}</em>
            </span>
            <span class="ddp-data-detail" *ngIf="book.description">- {{book.description}}</span>
          </div>
          <!-- // Name -->


          <!-- workbook -->
          <div class="ddp-wrap-num d-flex col- ml-auto" *ngIf="book.type === 'workbook'">
              <span class="ddp-data-num d-flex">
                  <i class="pr-2">
                    <svg width="15" height="15" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M19.5999 14.164H0.400072C0.17893 14.164 0 14.3431 0 14.5641V19.5999C0 19.8209 0.17893 20 0.400072 20H19.5999C19.8211 20 20 19.8209 20 19.5999V14.5641C20 14.3431 19.8211 14.164 19.5999 14.164ZM19.1999 19.1998H0.799973V14.964H19.1999V19.1998Z" fill="black"/>
                      <path d="M2.41683 18.4819H4.41684C4.63781 18.4819 4.81674 18.3028 4.81674 18.082V16.082C4.81674 15.861 4.63781 15.6819 4.41684 15.6819H2.41683C2.19568 15.6819 2.01675 15.861 2.01675 16.082V18.082C2.01675 18.3028 2.19568 18.4819 2.41683 18.4819ZM2.81673 16.4819H4.01677V17.682H2.81673V16.4819Z" fill="black"/>
                      <path d="M6.88326 17.482H17.5832C17.8043 17.482 17.9831 17.3029 17.9831 17.0819C17.9831 16.8611 17.8043 16.682 17.5832 16.682H6.88326C6.66211 16.682 6.48318 16.8611 6.48318 17.0819C6.48318 17.3029 6.66211 17.482 6.88326 17.482Z" fill="black"/>
                      <path d="M19.5999 7.08203H0.400072C0.17893 7.08203 0 7.26113 0 7.4821V12.5179C0 12.7389 0.17893 12.918 0.400072 12.918H19.5999C19.8211 12.918 20 12.7389 20 12.5179V7.4821C20 7.26113 19.8211 7.08203 19.5999 7.08203ZM19.1999 12.1179H0.799973V7.882H19.1999V12.1179Z" fill="black"/>
                      <path d="M2.41683 11.3999H4.41684C4.63781 11.3999 4.81674 11.2208 4.81674 11V8.99999C4.81674 8.77902 4.63781 8.59991 4.41684 8.59991H2.41683C2.19568 8.59991 2.01675 8.77902 2.01675 8.99999V11C2.01675 11.2208 2.19568 11.3999 2.41683 11.3999ZM2.81673 9.39989H4.01677V10.5999H2.81673V9.39989Z" fill="black"/>
                      <path d="M6.88326 10.3999H17.5832C17.8043 10.3999 17.9831 10.2208 17.9831 9.99988C17.9831 9.77908 17.8043 9.59998 17.5832 9.59998H6.88326C6.66211 9.59998 6.48318 9.77908 6.48318 9.99988C6.48318 10.2208 6.66211 10.3999 6.88326 10.3999Z" fill="black"/>
                      <path d="M19.5999 0H0.400072C0.17893 0 0 0.179101 0 0.400072V5.43592C0 5.65689 0.17893 5.83599 0.400072 5.83599H19.5999C19.8211 5.83599 20 5.65689 20 5.43592V0.400072C20 0.179101 19.8211 0 19.5999 0ZM19.1999 5.03584H0.799973V0.799973H19.1999V5.03584Z" fill="black"/>
                      <path d="M2.41683 4.31787H4.41684C4.63781 4.31787 4.81674 4.13877 4.81674 3.91797V1.91796C4.81674 1.69698 4.63781 1.51788 4.41684 1.51788H2.41683C2.19568 1.51788 2.01675 1.69698 2.01675 1.91796V3.91797C2.01675 4.13877 2.19568 4.31787 2.41683 4.31787ZM2.81673 2.31786H4.01677V3.5179H2.81673V2.31786Z" fill="black"/>
                      <path d="M6.88326 3.31798H17.5832C17.8043 3.31798 17.9831 3.13888 17.9831 2.91791C17.9831 2.69711 17.8043 2.51801 17.5832 2.51801H6.88326C6.66211 2.51801 6.48318 2.69711 6.48318 2.91791C6.48318 3.13888 6.66211 3.31798 6.88326 3.31798Z" fill="black"/>
                    </svg>
                </i>
                <strong>{{book.contents.dataSource - book.contents.inactiveDataSource}}</strong>
                <!-- error -->
                <div class="ddp-type-info" *ngIf="book.contents.inactiveDataSource > 0">
                  <em class="ddp-icon-error2"></em>
                  <!-- tooltip -->
                  <div class="ddp-ui-tooltip-info ddp-down">
                      <em class="ddp-icon-view-top"></em>
                    {{'msg.space.ui.workbook.unauthorized' | translate : {inactive : book.contents.inactiveDataSource } }}
                  </div>
                  <!-- //tooltip -->
                </div>
                <!-- //error -->
              </span>
            <span class="ddp-data-num d-flex col-">
                <i nz-icon type="dashboard" theme="outline" class="pr-2"></i>
                <span>{{book.contents.dashboard}}</span>
                </span>
          </div>

          <div class="ddp-data-date col-">
            {{'msg.comm.ui.list.last' | translate}} <span class="ddp-data-ago">{{book.modifiedTime | amLocale:getLanguage() | amTimeAgo}}</span>
          </div>

          <div class="ddp-btn-control col-" *ngIf="permissionChecker && permissionChecker.isManageWorkspace()">
            <em *ngIf="checkEditAuth(book)" (click)="deleteModalOpen(book); $event.stopPropagation();"
                class="ddp-icon-control-cut ddp-hover-tooltip">
              <!-- 툴팁 -->
              <div class="ddp-ui-tooltip-info ddp-down">
                <em class="ddp-icon-view-top"></em>
                {{'msg.comm.ui.del' | translate}}
              </div>
              <!-- //툴팁 -->
            </em>
          </div>
        </a>
      </li>
    </ul>
  </div>
  <!-- //list 타입 -->

  <!-- space bottom -->
  <div class="ddp-ui-space-bottom row no-gutters mx-5 py-3">

    <div class="col-" *ngIf="permissionChecker && permissionChecker.isManageWorkspace()">
      <div class="row no-gutters">
      <!-- Select all -->
      <div class="ddp-ui-link col- border-right pr-2">
        <label class="ddp-label-checkbox ddp-checkboxtype" >
          <input type="checkbox" [checked]="isAllChecked" (click)="checkAllEvent()"/>
          <i class="ddp-icon-checkbox"></i>
          <span class="ddp-txt-checkbox">{{'msg.comm.ui.list.sel.all' | translate}}</span>
        </label>
      </div>
      <!-- Clone workbook -->
      <div class="ddp-ui-link col- border-right" [ngClass]="{'ddp-disabled' : checkBookCopyAvailable()}" (click)="cloneWorkbooks()">
        <a draggable="false" href="javascript:" class="d-flex">
          <i nz-icon type="copy" theme="outline" class="pr-2"></i>
          <span>{{'msg.space.ui.workbook.copy' | translate}}</span>
        </a>
      </div>

      <!-- Move Selection -->
      <div class="col- border-right px-2">
        <div class="ddp-ui-link"
             [ngClass]="{'ddp-selected' : moveSelectionFl, 'ddp-disabled' : isDisableMoveContent }"
             (click)="openMoveContents()" (clickOutside)="moveSelectionFl=false">
          <a draggable="false" href="javascript:" class="d-flex">
            <i nz-icon type="diff" theme="outline" class="pr-2"></i>
            <span>{{'msg.space.ui.sel.mov' | translate}}</span>
          </a>
          <!-- popup -->
          <div class="ddp-box-popup2">
            <!-- Layer Title - move Workspace-->
            <div *ngIf="isCheckedWorkbook && !moveCandidateLoc" class="ddp-box-title">{{'msg.comm.ui.list.workspace' | translate}}</div>
            <a href="javascript:"
               (click)="selectTarget($event, moveCandidateLoc.id, 'FOLDER')" class="ddp-link-space"
               *ngIf="isCheckedWorkbook && moveCandidateLoc">
              <em (click)="selectTargetLocation($event, moveCandidateLoc, true);" class="ddp-btn-back"></em>{{moveCandidateLoc.name}}
            </a>
            <!-- // Layer Title - move Workspace-->
            <!-- Layer Title - move other -->
            <a href="javascript:"
               (click)="selectTarget($event, 'ROOT', 'FOLDER' )"
               class="ddp-link-space" [ngClass]="{'ddp-selected' : moveTargetFolderId === 'ROOT'}"
               *ngIf="!isCheckedWorkbook && moveCandidateLoc && !moveCandidateLoc.hierarchies">
              <em class="ddp-icon-user"></em>{{moveCandidateLoc.name}}
            </a>
            <a href="javascript:"
               (click)="selectTarget($event, moveCandidateLoc.id, 'FOLDER')"
               class="ddp-link-space" [ngClass]="{'ddp-selected' : moveTargetFolderId === moveCandidateLoc.id}"
               *ngIf="!isCheckedWorkbook && moveCandidateLoc && moveCandidateLoc.hierarchies">
              <em (click)="selectTargetLocation($event, moveCandidateLoc, true);" class="ddp-btn-back"></em>{{moveCandidateLoc.name}}
            </a>
            <!-- // Layer Title - move other -->
            <!-- Layer List - Workspace -->
            <ul class="ddp-list-folder" *ngIf="importAvailWorkspaces && !moveCandidateLoc" >
              <li *ngFor="let wsItem of importAvailWorkspaces"
                  (click)="selectTarget($event, wsItem.id, 'WORKSPACE')"
                  [class.ddp-selected]="moveTargetWorkspaceId === wsItem.id">
                <em [ngClass]="{'ddp-icon-user' : 'PRIVATE' === wsItem.publicType.toString(),
                              'ddp-icon-shape' : 'SHARED' === wsItem.publicType.toString()}"></em>
                <span class="ddp-txt-name">{{wsItem.name}}</span>
                <span class="ddp-btn-view" (click)="selectTargetLocation($event, wsItem)"></span>
              </li>
            </ul>
            <!-- // Layer List - Workspace -->
            <!-- Layer List - Folder -->
            <ul class="ddp-list-folder" *ngIf="moveCandidateLoc">
              <li *ngFor="let content of moveCandidateLoc.books | baseFilter : ['type','folder']"
                  (click)="selectTarget($event, content.id, 'FOLDER')"
                  [ngClass]="{
                  'ddp-selected' : moveTargetFolderId === content.id,
                  'ddp-disabled' : isDisableMove( content.id )
                }" >
                <em class="ddp-icon-folder2"></em>
                <span class="ddp-txt-name">{{content.name}}</span>
                <span class="ddp-btn-view" (click)="selectTargetLocation($event, content);"></span>
              </li>
            </ul>
            <div *ngIf="importAvailWorkspaces && !moveCandidateLoc && pageAvailableSpaces.number < pageAvailableSpaces.totalPages -1 "
                 style="position: absolute;bottom: 50px;left: 0;right: 0;text-align: center;">
              <a href="javascript:" class="ddp-btn-moretype"
                 (click)="$event.stopPropagation();loadWorkspaceImportAvailable(pageAvailableSpaces.number + 1)">More</a>
            </div>
            <!-- // Layer List - Folder -->
            <!-- Layer Bottom -->
            <div class="ddp-ui-buttons">
              <a draggable="false" href="javascript:" (click)="moveSelectionFl = false; $event.stopPropagation();" class="ddp-btn-type-popup2">{{'msg.comm.btn.cancl' | translate}}</a>
              <a draggable="false" href="javascript:" (click)="moveContents($event);" class="ddp-btn-type-popup2 ddp-bg-black">{{'msg.comm.btn.mov' | translate}}</a>
            </div>
            <!-- // Layer Bottom -->
          </div>
          <!-- //popup -->
        </div>

      </div>
        <!-- Delete Selection -->
        <div class="col- pl-2">
          <div class="ddp-ui-link" [ngClass]="{'ddp-disabled' : checkContents.length < 1}" (click)="deleteMultiModalOpen()">
            <a draggable="false" href="javascript:" class="d-flex">
              <i nz-icon type="delete" theme="outline" class="pr-2"></i>
              <span>{{'msg.comm.ui.sel.del' | translate}}</span>
            </a>
          </div>
        </div>
      </div>
    </div>
    <!-- Create Buttons -->
<div class="col- ml-auto">
  <div class="row no-gutters">
    <div class="col- border-right px-3" *ngIf="permissionChecker && permissionChecker.isWriteWorkbook()">
      <a draggable="false" href="javascript:" class="d-flex workbook" (click)="createWorkbook()">
        <i nz-icon type="plus-square" theme="outline" class="pr-2"></i>
        <span>{{'msg.space.btn.workbook' | translate}}</span>
      </a>
    </div>

    <div class="col- border-right px-3" *ngIf="isSetNotebookServer && permissionChecker && permissionChecker.isWriteNotebook()">
      <a draggable="false" href="javascript:" class="d-flex notebook" (click)="createNotebook()">
        <i nz-icon type="plus-square" theme="outline" class="pr-2"></i>
        <span>{{'msg.space.btn.notebook' | translate}}</span>
      </a>
    </div>

    <div class="col- pl-3" *ngIf="permissionChecker && permissionChecker.isWriteWorkbench()">
      <a draggable="false" href="javascript:" class="d-flex workbench" (click)="createWorkbench()">
        <i nz-icon type="plus-square" theme="outline" class="pr-2"></i>
        <span>{{'msg.space.btn.workbench' | translate}}</span>
      </a>
    </div>
  </div>
</div>
    <!-- // Create Buttons -->

  </div>
  <!-- //space bottom -->

</div>

<!-- 워크북 생성 -->
<app-create-workbook (createComplete)="createCompleteWorkBook($event)"></app-create-workbook>
<!-- 데이터소스 뷰 -->
<app-datasource-view (showComplete)="isInfoType=null"></app-datasource-view>
<!-- 공유멤버 뷰 -->
<app-shared-member (showComplete)="completeMemeber($event)"></app-shared-member>
<!-- 공유멤버 관리 -->
<app-shared-member-manage (manageComplete)="loadWorkspace($event)"></app-shared-member-manage>
<!-- 워크스페이스 수정 -->
<app-update-workspace (updateComplete)="loadWorkspace($event)"></app-update-workspace>
<!-- 워크스페이스 삭제 -->
<app-delete-workspace></app-delete-workspace>
<!-- 워크스페이스 권한 스키마 설정 -->
<app-workspace-permission-schema-set (afterUpdate)="loadWorkspace(true)"></app-workspace-permission-schema-set>
<!-- 워크스페이스 리스트 -->
<app-workspace-list (updateComplete)="loadWorkspace($event)"></app-workspace-list>
<!-- 노트북 생성 -->
<app-create-notebook (createComplete)="detailPage($event, 'notebook')" [step]="notebookStep"></app-create-notebook>
<!-- 워크벤치 생성 -->
<app-create-workbench *ngIf="workbenchStep" [workspaceId]="workspaceId" [folderId]="currentFolderId" [step]="workbenchStep"></app-create-workbench>
<!-- 노트북 서버 설정 -->
<app-set-notebook-server (updateComplete)="loadWorkspace($event)"></app-set-notebook-server>
<!-- 소유자 변경 -->
<app-change-workspace-owner (afterChange)="loadWorkspace($event)"></app-change-workspace-owner>
