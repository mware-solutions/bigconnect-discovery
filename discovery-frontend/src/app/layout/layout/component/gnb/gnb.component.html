<!--
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<div class="ddp-ui-headright">
  <!--<a href="javascript:" class="ddp-btn-search"></a>-->
  <div class="ddp-wrap-myinfo" >

    <ul class="row no-gutters topRightMenu mt-3 pt-3">
      <li class="col- px-2 ml-auto border-right">
        <a href="javascript:">
          <i nz-icon type="home" theme="outline"></i>
        </a>
      </li>
      <li class="col- px-2 border-right">
        <a href="javascript:">
          <i nz-icon type="project" theme="outline"></i>
        </a>
      </li>
      <li class="col- px-2 border-right">
        <a href="javascript:">
          <i nz-icon type="setting" theme="outline"></i>
        </a>
      </li>
      <li class="col- px-2 border-right">
        <a href="javascript:">
          <i nz-icon type="bell" theme="outline"></i>
        </a>
      </li>
      <li class="col- px-2 border-right" [ngClass]="{'ddp-selected' : isMyInfoShow}" (click)="isMyInfoShow = !isMyInfoShow;" (clickOutside)="isMyInfoShow=false;">
        <a href="javascript:">
          <i nz-icon type="user" theme="outline"></i>
        </a>
        <!-- my info -->
        <div class="ddp-ui-sub-myinfo">
          <img [src]="getUserImage()" />
          <div class="ddp-wrap-data">
            <span class="ddp-data-name">{{user.fullName}}</span>
            <span class="ddp-data-mail">{{user.email}}</span>
          </div>

          <ul class="ddp-list-sub-myinfo">
            <li>
              <a href="javscript:" (click)="userProfile()">
            <span class="ddp-txt-list">
                <em class="ddp-icon-info-profile"></em>{{'msg.comm.menu.profile' | translate}}
            </span>
              </a>
            </li>
            <li>
              <a href="javscript:" class="ddp-cursor-default" (click)="$event.stopImmediatePropagation();">
            <span class="ddp-txt-list">
                <em class="ddp-icon-info-language"></em>{{'msg.comm.menu.lang' | translate}}
            </span>
              </a>
              <div class="ddp-hover-status" [ngClass]="{'ddp-selected' : isLanguageShow}">
                <!-- inactive 일때 ddp-inactive 추가 -->
                <span class="ddp-status-active ddp-inactive" (click)="isLanguageShow = !isLanguageShow;$event.stopImmediatePropagation();" (clickOutside)="isLanguageShow=false;">{{'msg.comm.menu.lang.' + getCurrentLang() | translate}}<em class="ddp-icon-view"></em></span>
                <!-- popup -->
                <div class="ddp-wrap-popup2">
                  <ul class="ddp-list-popup">
                    <li [ngClass]="{'ddp-selected' : getCurrentLang() == 'ko'}" (click)="changeLanguage('ko');$event.preventDefault();">
                      <a href="#">
                        {{'msg.comm.menu.lang.ko' | translate}}
                        <em class="ddp-icon-check"></em>
                      </a>
                    </li>
                    <li [ngClass]="{'ddp-selected' : getCurrentLang() == 'en'}" (click)="changeLanguage('en');$event.preventDefault();">
                      <a href="#">
                        {{'msg.comm.menu.lang.en' | translate}}
                        <em class="ddp-icon-check"></em>
                      </a>
                    </li>
                    <li [ngClass]="{'ddp-selected' : getCurrentLang() == 'zh'}" (click)="changeLanguage('zh');$event.preventDefault();">
                      <a href="#">
                        {{'msg.comm.menu.lang.zh' | translate}}
                        <em class="ddp-icon-check"></em>
                      </a>
                    </li>
                  </ul>
                </div>
                <!-- //popup -->
              </div>
            </li>
            <li>
              <a href="javascript:" class="ddp-cursor-default" (click)="$event.stopImmediatePropagation();">
            <span class="ddp-txt-list">
                <em class="ddp-icon-info-theme"></em>
                {{'msg.comm.menu.theme' | translate}}
            </span>
              </a>
              <div class="ddp-theme-check">
                <label class="theme-check ">
                  <input type="checkbox" [checked]="!isThemeDark()">
                  <i (click)="themeCheckboxClick(constTheme.WHITE);$event.preventDefault();"></i>
                </label>
                <label class="theme-check type-dark">
                  <input type="checkbox" [checked]="isThemeDark()">
                  <i (click)="themeCheckboxClick(constTheme.DARK);$event.preventDefault();"></i>
                </label>
              </div>
            </li>
          </ul>
          <div class="ddp-ui-part"><a href="javascript:" (click)="logout();">{{'msg.comm.menu.logout' | translate}}</a></div>
        </div>
        <!-- //my info -->
      </li>
      <li class="col- pl-2">
        <i>
          <svg width="20" height="20" viewBox="0 0 21 19" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.3304 0H0.205357C0.0924107 0 0 0.0924107 0 0.205357V1.84821C0 1.96116 0.0924107 2.05357 0.205357 2.05357H20.3304C20.4433 2.05357 20.5357 1.96116 20.5357 1.84821V0.205357C20.5357 0.0924107 20.4433 0 20.3304 0ZM20.3304 16.0179H0.205357C0.0924107 16.0179 0 16.1103 0 16.2232V17.8661C0 17.979 0.0924107 18.0714 0.205357 18.0714H20.3304C20.4433 18.0714 20.5357 17.979 20.5357 17.8661V16.2232C20.5357 16.1103 20.4433 16.0179 20.3304 16.0179ZM20.3304 8.00893H0.205357C0.0924107 8.00893 0 8.10134 0 8.21428V9.85714C0 9.97009 0.0924107 10.0625 0.205357 10.0625H20.3304C20.4433 10.0625 20.5357 9.97009 20.5357 9.85714V8.21428C20.5357 8.10134 20.4433 8.00893 20.3304 8.00893Z" fill="#333333"/>
          </svg>
        </i>
      </li>
    </ul>







  </div>

</div>

<app-profile (completeUpdate)="updatedUser($event)"></app-profile>
